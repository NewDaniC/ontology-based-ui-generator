@base <http://www.cedri.com/SmartLEM-ASE-BMs#> .

@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

@prefix md:  <http://www.cedri.com/OntologyToAPI-Metadata#> .
@prefix comm:  <http://www.cedri.com/OntologyToAPI-Communications#> .
@prefix bm:  <http://www.cedri.com/OntologyToAPI-BusinessModel#> .
@prefix excode:  <http://www.cedri.com/OntologyToAPI-ExternalCode#> .

@prefix LEMMembers:  <http://www.cedri.com/SmartLEM-LEMMembers#> .
@prefix LEMWeather:  <http://www.cedri.com/SmartLEM-Weather#> .

@prefix ASE_BM: <http://www.cedri.com/SmartLEM-ASE-BMs#> .

<http://www.cedri.com/SmartLEM-ASE-BMs> rdf:type owl:Ontology ;
                                                           owl:versionIRI <http://www.cedri.com/SmartLEM-ASE-BMs/1.0.0> ;
                                                           owl:imports <http://www.cedri.com/OntologyToAPI-Metadata/1.0.0> ,
                                                                       <http://www.cedri.com/OntologyToAPI-Communications/1.0.0> ,
                                                                       <http://www.cedri.com/OntologyToAPI-BusinessModel/1.0.0> ,
                                                                       <http://www.cedri.com/OntologyToAPI-ExternalCode/1.0.0> ,
                                                                       <http://www.cedri.com/SmartLEM-LEMMembers/1.0.0> ,
                                                                       <http://www.cedri.com/SmartLEM-Weather/1.0.0> ;
                                                           <http://purl.org/dc/terms/creator> "https://orcid.org/0000-0002-7620-0960" ;
                                                           <http://purl.org/dc/terms/description> "This ontology represent the Consumption, Generation and Net-balance of community to the ASE Local Electricity Market" ;
                                                           <http://purl.org/dc/terms/issued> "2025-04-07" ;
                                                           <http://purl.org/dc/terms/modified> "2025-04-07" .

#################################################################
#    Classes
#################################################################

ASE_BM:Simulation rdf:type owl:Class ;
                           rdfs:subClassOf bm:BusinessModel ;
                           rdfs:comment "A Business Model to run a simulation of a Local Electricity Community." .

ASE_BM:WeatherFromFile rdf:type owl:Class ;
                           rdfs:subClassOf bm:BusinessModel ;
                           rdfs:comment "A Business Model to retrieve Weather info of a Local Electricity Community." .

#################################################################
#    Individuals
#################################################################

# Parameters

ASE_BM:EnergyCommunityJSONData rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "EnergyCommunityJSONData" ;
                            bm:hasParameterType "UploadFile" .

ASE_BM:LEM_Latitude rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "Latitude" ;
                            bm:hasParameterType "float" .

ASE_BM:LEM_Longitude rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "Longitude" ;
                            bm:hasParameterType "float" .

ASE_BM:LEM_TOU rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "TOU" ;
                            bm:hasParameterType "float" .

ASE_BM:LEM_FIT rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "FIT" ;
                            bm:hasParameterType "float" .

ASE_BM:StartingDate rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "StartingDate" ;
                            bm:hasParameterType "date" .

ASE_BM:WeatherData rdf:type owl:NamedIndividual ,
                                         bm:Parameter ;
                            bm:hasParameterLabel "WeatherData" ;
                            bm:hasParameterType "UploadFile" .

# Simulation Business Model

ASE_BM:SimulationBM rdf:type owl:NamedIndividual ,
                                      ASE_BM:Simulation ;
                             bm:hasExternalCode ASE_BM:SimulationFunction ;
                             bm:requiresMetadata LEMMembers:Aggregated_R ;
                             bm:hasParameter ASE_BM:EnergyCommunityJSONData ,
                                             ASE_BM:LEM_Latitude ,
                                             ASE_BM:LEM_Longitude ,
                                             ASE_BM:LEM_TOU ,
                                             ASE_BM:LEM_FIT .

ASE_BM:SimulationFunction rdf:type owl:NamedIndividual ,
                                       excode:ExternalCode ;
                               excode:hasFunction "RunSimulation" ;
                               excode:hasPythonFile "./BMs_Wrappers/Simulation_BMs.py" ;
                               excode:requiresLib "pandas" ,
                                                  "timezonefinder" ,
                                                  "pytz" ,
                                                  "scipy" ,
                                                  "pvlib" ,
                                                  "plotly" .

# Weather Business Model

ASE_BM:WeatherBM rdf:type owl:NamedIndividual ,
                                      ASE_BM:WeatherFromFile ;
                             bm:hasExternalCode ASE_BM:WeatherDataFunction ;
                             bm:requiresMetadata LEMMembers:Aggregated_R ;
                             bm:hasParameter ASE_BM:StartingDate ,
                                             ASE_BM:LEM_Latitude ,
                                             ASE_BM:LEM_Longitude ,
                                             ASE_BM:WeatherData .

ASE_BM:WeatherDataFunction rdf:type owl:NamedIndividual ,
                                       excode:ExternalCode ;
                               excode:hasFunction "WeatherDataPerTime" ;
                               excode:hasPythonFile "./BMs_Wrappers/Simulation_BMs.py" ;
                               excode:requiresLib "pandas" ,
                                                  "requests" .

###  Generated by the OWL API (version 4.5.29.2024-05-13T12:11:03Z) https://github.com/owlcs/owlapi
